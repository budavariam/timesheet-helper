(self.webpackChunktimesheet_helper=self.webpackChunktimesheet_helper||[]).push([[179],{"./src/project/CopyToClipboard.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{LoremIpsum:function(){return LoremIpsum}});var _home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_CopyToClipboard__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/project/CopyToClipboard.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/CopyToClipboard",component:_CopyToClipboard__WEBPACK_IMPORTED_MODULE_0__.h,argTypes:{}};var LoremIpsum=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_CopyToClipboard__WEBPACK_IMPORTED_MODULE_0__.h,(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({},args))}.bind({});LoremIpsum.args={data:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Molestiae, ullam."},LoremIpsum.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_2__.Z)({storySource:{source:"(args) => <CopyToClipboard {...args} />"}},LoremIpsum.parameters)},"./src/project/Duration.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{APrimary:function(){return APrimary},HideAdjustedValue:function(){return HideAdjustedValue},HideZeroValue:function(){return HideZeroValue},NonAdjustable:function(){return NonAdjustable},ShowMinusAdjust:function(){return ShowMinusAdjust},ShowPlusAdjust:function(){return ShowPlusAdjust},ShowZeroValue:function(){return ShowZeroValue}});var _home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),_Duration__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/project/Duration.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");__webpack_exports__.default={title:"Components/Duration",story:_Duration__WEBPACK_IMPORTED_MODULE_1__.n,argTypes:{},docs:{description:{component:"Adjustable cell value."}}};var Template=function Template(args){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)(_Duration__WEBPACK_IMPORTED_MODULE_1__.n,(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},args))},dispatch=(0,_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_0__.action)("dispatch-event"),APrimary=Template.bind({});APrimary.args={num:324e5,dispatch:dispatch,adjusted:36e5,hideInfo:!0,showEmpty:!0,adjustable:!0},APrimary.parameters={docs:{description:{story:"..."}}};var HideAdjustedValue=Template.bind({});HideAdjustedValue.args={num:18e6,dispatch:dispatch,adjusted:36e5,hideInfo:!0,showEmpty:!0,adjustable:!0},HideAdjustedValue.parameters={docs:{description:{story:"Do not show if this value is adjusted or not."}}};var NonAdjustable=Template.bind({});NonAdjustable.args={num:18e6,dispatch:dispatch,adjusted:36e5,hideInfo:!0,showEmpty:!0,adjustable:!1},NonAdjustable.parameters={docs:{description:{story:"Can not change the value."}}};var ShowPlusAdjust=Template.bind({});ShowPlusAdjust.args={num:18e6,dispatch:dispatch,adjusted:36e5,hideInfo:!1,showEmpty:!0,adjustable:!0},ShowPlusAdjust.parameters={docs:{description:{story:"Show +".concat(36e5,"ms adjustment.")}}};var ShowMinusAdjust=Template.bind({});ShowMinusAdjust.args={num:108e5,dispatch:dispatch,adjusted:-36e5,hideInfo:!1,showEmpty:!0,adjustable:!0},ShowMinusAdjust.parameters={docs:{description:{story:"Show -".concat(36e5,"ms adjustment.")}}};var ShowZeroValue=Template.bind({});ShowZeroValue.args={num:0,dispatch:dispatch,adjusted:0,hideInfo:!1,showEmpty:!0,adjustable:!0},ShowZeroValue.parameters={docs:{description:{story:"Showing up empty value is relevant to know that a value hadd an original value, it was just adjusted to a 0."}}};var HideZeroValue=Template.bind({});HideZeroValue.args={num:0,dispatch:dispatch,adjusted:0,hideInfo:!1,showEmpty:!1,adjustable:!0},HideZeroValue.parameters={docs:{description:{story:"Hiding empty value is relevant to know that a value didn't have an original value, it was originally 0."}}},APrimary.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},APrimary.parameters),HideAdjustedValue.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},HideAdjustedValue.parameters),NonAdjustable.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},NonAdjustable.parameters),ShowPlusAdjust.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},ShowPlusAdjust.parameters),ShowMinusAdjust.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},ShowMinusAdjust.parameters),ShowZeroValue.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},ShowZeroValue.parameters),HideZeroValue.parameters=(0,_home_runner_work_timesheet_helper_timesheet_helper_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({storySource:{source:"(args) => <Duration {...args} />"}},HideZeroValue.parameters)},"./src/project/PlainTextData.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:function(){return Primary},default:function(){return PlainTextData_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),projectData=__webpack_require__("./src/util/projectData.tsx"),toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),format=(__webpack_require__("./node_modules/react/index.js"),__webpack_require__("./src/util/format.ts")),CopyToClipboard=__webpack_require__("./src/project/CopyToClipboard.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function PlainTextData_PlainTextData(props){var projectData=props.projectData,csvHeader=[["Client","Project"].concat((0,toConsumableArray.Z)(projectData.headers.slice(0,-1))).join(",")],csvBody=projectData.projects.filter((function(p){return!p.ignore})).map((function(p){return[p.client,p.project,p.totals.slice(0,-1).map((function(val,i){return(0,format.E)(val)}))].join(",")})),formattedData=csvHeader.concat(csvBody).join("\n"),JSONData=JSON.stringify(projectData.projects,null,2);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsxs)("pre",{className:"plaintext",children:[formattedData,(0,jsx_runtime.jsx)(CopyToClipboard.h,{data:formattedData})]}),(0,jsx_runtime.jsxs)("pre",{className:"plaintext",children:[JSONData,(0,jsx_runtime.jsx)(CopyToClipboard.h,{data:JSONData})]})]})}try{PlainTextData_PlainTextData.displayName="PlainTextData",PlainTextData_PlainTextData.__docgenInfo={description:"",displayName:"PlainTextData",props:{projectData:{defaultValue:null,description:"",name:"projectData",required:!0,type:{name:"ProjectData"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/project/PlainTextData.tsx#PlainTextData"]={docgenInfo:PlainTextData_PlainTextData.__docgenInfo,name:"PlainTextData",path:"src/project/PlainTextData.tsx#PlainTextData"})}catch(__react_docgen_typescript_loader_error){}var data=__webpack_require__("./src/api/data.json"),root_reducer=__webpack_require__("./src/actions/root.reducer.ts"),immutable_es=__webpack_require__("./node_modules/immutable/dist/immutable.es.js"),PlainTextData_stories={title:"Components/PlainTextData",story:PlainTextData_PlainTextData,argTypes:{},docs:{description:{component:"Adjustable cell value."}}},projectLoaded=(0,root_reducer.o)("2022-02-22",data,5,30,(0,immutable_es.l4)()).projectData,PlainTextData_stories_projectData=(0,projectData.U)(projectLoaded,5,30,(0,immutable_es.D5)(),(0,immutable_es.l4)(),(0,immutable_es.l4)(),[]),Primary=function Template(args){return(0,jsx_runtime.jsx)(PlainTextData_PlainTextData,(0,objectSpread2.Z)({},args))}.bind({});Primary.args={projectData:PlainTextData_stories_projectData},Primary.parameters={docs:{description:{story:"..."}}},Primary.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <PlainTextData {...args} />"}},Primary.parameters)},"./src/project/ProjectGrid.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:function(){return Primary},default:function(){return ProjectGrid_stories}});var objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),esm=__webpack_require__("./node_modules/@storybook/addon-actions/dist/esm/index.js"),immutable_es=__webpack_require__("./node_modules/immutable/dist/immutable.es.js"),data=__webpack_require__("./src/api/data.json"),projectData=__webpack_require__("./src/util/projectData.tsx"),defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),styled=__webpack_require__("./node_modules/@mui/material/styles/styled.js"),Table=__webpack_require__("./node_modules/@mui/material/Table/Table.js"),TableBody=__webpack_require__("./node_modules/@mui/material/TableBody/TableBody.js"),TableCell=__webpack_require__("./node_modules/@mui/material/TableCell/TableCell.js"),tableCellClasses=__webpack_require__("./node_modules/@mui/material/TableCell/tableCellClasses.js"),TableContainer=__webpack_require__("./node_modules/@mui/material/TableContainer/TableContainer.js"),TableHead=__webpack_require__("./node_modules/@mui/material/TableHead/TableHead.js"),TableRow=__webpack_require__("./node_modules/@mui/material/TableRow/TableRow.js"),Paper=__webpack_require__("./node_modules/@mui/material/Paper/Paper.js"),VisibilityOutlined=__webpack_require__("./node_modules/@mui/icons-material/VisibilityOutlined.js"),VisibilityOffOutlined=__webpack_require__("./node_modules/@mui/icons-material/VisibilityOffOutlined.js"),VisibilityOff=__webpack_require__("./node_modules/@mui/icons-material/VisibilityOff.js"),Visibility=__webpack_require__("./node_modules/@mui/icons-material/Visibility.js"),Duration=__webpack_require__("./src/project/Duration.tsx"),util_const=__webpack_require__("./src/util/const.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),StyledTableCell=(0,styled.ZP)(TableCell.Z)((function(_ref){var theme=_ref.theme;return(0,defineProperty.Z)({},"&.".concat(tableCellClasses.Z.head,":last-child, &.").concat(tableCellClasses.Z.body,":last-child"),{backgroundColor:theme.palette.grey[100]})})),StyledTableRow=(0,styled.ZP)(TableRow.Z)((function(_ref3){var theme=_ref3.theme;return{"&:nth-of-type(odd)":{backgroundColor:theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0,backgroundColor:theme.palette.grey[100]}}}));function ProjectGrid_ProjectGrid(props){var projectData=props.projectData,hideIgnored=props.hideIgnored,dispatch=props.dispatch;return(0,jsx_runtime.jsx)(TableContainer.Z,{component:Paper.Z,children:(0,jsx_runtime.jsxs)(Table.Z,{sx:{minWidth:650},size:"small","aria-label":"simple table",className:"".concat(hideIgnored?"hide-ignored":""),children:[(0,jsx_runtime.jsx)(TableHead.Z,{children:(0,jsx_runtime.jsxs)(TableRow.Z,{children:[(0,jsx_runtime.jsx)(StyledTableCell,{children:(0,jsx_runtime.jsx)("span",{className:"ignoreProject",title:hideIgnored?"Show hidden":"Only show visible",onClick:function onClick(){dispatch({type:util_const.uT.HIDE_IGNORED_TOGGLE,value:""})},children:hideIgnored?(0,jsx_runtime.jsx)(Visibility.Z,{}):(0,jsx_runtime.jsx)(VisibilityOff.Z,{})})}),(0,jsx_runtime.jsx)(StyledTableCell,{children:"Name"}),projectData.headers.map((function(day,i){return(0,jsx_runtime.jsx)(StyledTableCell,{align:"center",children:day},i)}))]})}),(0,jsx_runtime.jsxs)(TableBody.Z,{children:[projectData.projects.map((function(project,pi){return(0,jsx_runtime.jsxs)(TableRow.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},className:"".concat(project.ignore?"ignored":""),children:[(0,jsx_runtime.jsx)(TableCell.Z,{component:"th",scope:"row",children:(0,jsx_runtime.jsxs)("span",{className:"ignoreProject",onClick:function onClick(){dispatch({type:util_const.uT.IGNORE_PROJECT_TOGGLE,value:project.uuid})},children:[project.ignore?(0,jsx_runtime.jsx)(VisibilityOffOutlined.Z,{}):(0,jsx_runtime.jsx)(VisibilityOutlined.Z,{})," "]})}),(0,jsx_runtime.jsx)(TableCell.Z,{component:"th",scope:"row",title:"Move up one line...",className:"clickable",onClick:function onClick(){dispatch({type:util_const.uT.ORDER_CHANGED,value:project.uuid})},children:(0,jsx_runtime.jsxs)("span",{style:{color:project.hexColor},children:[project.client," ",project.project]})}),project.totals.map((function(num,i){return(0,jsx_runtime.jsxs)(StyledTableCell,{align:"center",children:[(0,jsx_runtime.jsx)(Duration.n,{projectID:project.uuid,columnIndex:i,num:num,dispatch:dispatch,adjustable:i!==project.totals.length-1,adjusted:project.adjustments[i]||0,showEmpty:i===project.totals.length-1}),i===project.totals.length-1&&(0,jsx_runtime.jsxs)("span",{className:"ignored",children:[" (",(0,jsx_runtime.jsx)(Duration.n,{num:project.adjustments[i],dispatch:dispatch,adjustable:!1,showEmpty:!0,hideInfo:!0}),")"]})]},i)}))]},project.uuid)})),(0,jsx_runtime.jsxs)(StyledTableRow,{children:[(0,jsx_runtime.jsx)(StyledTableCell,{}),(0,jsx_runtime.jsx)(StyledTableCell,{children:"Totals"}),projectData.totals.map((function(num,i){return(0,jsx_runtime.jsxs)(StyledTableCell,{align:"center",children:[(0,jsx_runtime.jsx)(Duration.n,{num:num,dispatch:dispatch,adjustable:!1,showEmpty:!0}),(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("span",{className:"ignored",children:(0,jsx_runtime.jsx)(Duration.n,{num:projectData.totalAdjustments[i],dispatch:dispatch,adjustable:!1,adjusted:0,showEmpty:!0})})]},i)}))]})]})]})})}try{ProjectGrid_ProjectGrid.displayName="ProjectGrid",ProjectGrid_ProjectGrid.__docgenInfo={description:"",displayName:"ProjectGrid",props:{projectData:{defaultValue:null,description:"",name:"projectData",required:!0,type:{name:"ProjectData"}},hideIgnored:{defaultValue:null,description:"",name:"hideIgnored",required:!0,type:{name:"boolean"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Dispatch<RootAction>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/project/ProjectGrid.tsx#ProjectGrid"]={docgenInfo:ProjectGrid_ProjectGrid.__docgenInfo,name:"ProjectGrid",path:"src/project/ProjectGrid.tsx#ProjectGrid"})}catch(__react_docgen_typescript_loader_error){}var root_reducer=__webpack_require__("./src/actions/root.reducer.ts"),ProjectGrid_stories={title:"Components/ProjectGrid",story:ProjectGrid_ProjectGrid,argTypes:{},docs:{description:{component:"Adjustable cell value."}}},dispatch=(0,esm.action)("dispatch-event"),projectLoaded=(0,root_reducer.o)("2022-02-22",data,7,30,(0,immutable_es.l4)()).projectData,ProjectGrid_stories_projectData=(0,projectData.U)(projectLoaded,5,30,(0,immutable_es.D5)(),(0,immutable_es.l4)(),(0,immutable_es.l4)(),[]),Primary=function Template(args){return(0,jsx_runtime.jsx)(ProjectGrid_ProjectGrid,(0,objectSpread2.Z)({},args))}.bind({});Primary.args={projectData:ProjectGrid_stories_projectData,hideIgnored:!1,dispatch:dispatch},Primary.parameters={docs:{description:{story:"..."}}},Primary.parameters=(0,objectSpread2.Z)({storySource:{source:"(args) => <ProjectGrid {...args} />"}},Primary.parameters)},"./.storybook/preview.js-generated-config-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,{parameters:function(){return parameters}});var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return(0,ClientApi.uc)(value);case"argTypes":return(0,ClientApi.v9)(value);case"decorators":return value.forEach((function(decorator){return(0,ClientApi.$9)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return(0,ClientApi.HZ)(loader,!1)}));case"parameters":return(0,ClientApi.h1)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return(0,ClientApi.My)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return(0,ClientApi._C)(enhancer)}));case"render":return(0,ClientApi.$P)(value);case"globals":case"globalTypes":var v={};return v[key]=value,(0,ClientApi.h1)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./src/actions/root.reducer.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{o:function(){return handleProjectLoaded}});var _util_projectData__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./src/util/projectData.tsx"),moment__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./src/util/const.ts"),__webpack_require__("./node_modules/moment/moment.js")),moment__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_2__),immutable__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/immutable/dist/immutable.es.js");function handleProjectLoaded(start,rawData,weekLength,rounding,autoIgnore){var dateFrom=start,dateTo=moment__WEBPACK_IMPORTED_MODULE_2___default()(start).add(7,"days").format("YYYY-MM-DD"),originalProjectData=(0,_util_projectData__WEBPACK_IMPORTED_MODULE_0__.a)(rawData,dateFrom,dateTo),projectOrder=originalProjectData.projects.map((function(e){return e.uuid}));return{projectData:(0,_util_projectData__WEBPACK_IMPORTED_MODULE_0__.U)(originalProjectData,weekLength,rounding,(0,immutable__WEBPACK_IMPORTED_MODULE_3__.D5)(),(0,immutable__WEBPACK_IMPORTED_MODULE_3__.l4)(),autoIgnore,projectOrder),originalProjectData:originalProjectData,projectOrder:projectOrder}}},"./src/project/CopyToClipboard.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{h:function(){return CopyToClipboard_CopyToClipboard}});var asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),regenerator=__webpack_require__("./node_modules/@babel/runtime/regenerator/index.js"),regenerator_default=__webpack_require__.n(regenerator),react=__webpack_require__("./node_modules/react/index.js"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),CopyToClipboard_CopyToClipboard=function CopyToClipboard(props){var _useState=(0,react.useState)("Copy"),_useState2=(0,slicedToArray.Z)(_useState,2),text=_useState2[0],setText=_useState2[1];return(0,jsx_runtime.jsx)("button",{className:"copy-code-button",onClick:(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee(){return regenerator_default().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,copyCodeToClipboard(props.data);case 2:_context.sent&&(setText("Copied!"),setTimeout((function(){setText("Copy")}),2e3));case 4:case"end":return _context.stop()}}),_callee)}))),children:text})};function copyCodeToClipboard(_x){return _copyCodeToClipboard.apply(this,arguments)}function _copyCodeToClipboard(){return(_copyCodeToClipboard=(0,asyncToGenerator.Z)(regenerator_default().mark((function _callee2(data){var result;return regenerator_default().wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,"clipboard-write",_context2.next=4,navigator.permissions.query({name:"clipboard-write"});case 4:if("granted"!==(result=_context2.sent).state&&"prompt"!==result.state){_context2.next=11;break}return _context2.next=8,navigator.clipboard.writeText(data);case 8:return _context2.abrupt("return",!0);case 11:return _context2.abrupt("return",copyCodeBlockExecCommand(data));case 12:_context2.next=18;break;case 14:return _context2.prev=14,_context2.t0=_context2.catch(0),console.error("Failed to copy data to clpboard",_context2.t0),_context2.abrupt("return",copyCodeBlockExecCommand(data));case 18:case"end":return _context2.stop()}}),_callee2,null,[[0,14]])})))).apply(this,arguments)}function copyCodeBlockExecCommand(data){try{var textArea=document.createElement("textarea");textArea.value=data,textArea.setAttribute("readonly",""),textArea.style.position="absolute",textArea.style.visibility="hidden",document.body.appendChild(textArea),textArea.select(),document.execCommand("copy"),document.body.removeChild(textArea)}catch(err){return console.error("Failed to copy data to clipboard",err),!1}return!0}try{CopyToClipboard_CopyToClipboard.displayName="CopyToClipboard",CopyToClipboard_CopyToClipboard.__docgenInfo={description:"",displayName:"CopyToClipboard",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/project/CopyToClipboard.tsx#CopyToClipboard"]={docgenInfo:CopyToClipboard_CopyToClipboard.__docgenInfo,name:"CopyToClipboard",path:"src/project/CopyToClipboard.tsx#CopyToClipboard"})}catch(__react_docgen_typescript_loader_error){}},"./src/project/Duration.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{n:function(){return Duration_Duration}});var util_const=__webpack_require__("./src/util/const.ts"),format=__webpack_require__("./src/util/format.ts"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js"),createDurationNodes=function createDurationNodes(e,i,lst){return(0,jsx_runtime.jsx)("span",{className:"time ".concat("00"===e?"irrelevant":""," ").concat(i<lst.length-1?"sep":""),children:e},i)};function Duration_Duration(props){var num=props.num,projectID=props.projectID,hideInfo=props.hideInfo,columnIndex=props.columnIndex,adjusted=props.adjusted,adjustable=props.adjustable,dispatch=props.dispatch,showEmpty=props.showEmpty,durationNodes=(0,format.E)(num).split(":").map(createDurationNodes);return(0,jsx_runtime.jsxs)("span",{className:"duration",children:[adjustable&&(0,jsx_runtime.jsx)("span",{className:"adjust",onClick:function onClick(){dispatch({type:util_const.uT.ADJUST,projectID:projectID,columnIndex:columnIndex,value:-1})},children:"-"}),(0,jsx_runtime.jsx)("span",{style:{visibility:num||showEmpty||0!==adjusted?"visible":"hidden"},children:durationNodes}),!hideInfo&&(0,jsx_runtime.jsx)("span",{className:"adjustmentInfo ".concat(adjusted>0?"plus":"minus"),style:{visibility:adjusted?"visible":"hidden"},title:"Changed by: ".concat((0,format.L)(adjusted)),children:"*"}),adjustable&&(0,jsx_runtime.jsx)("span",{className:"adjust",onClick:function onClick(){dispatch({type:util_const.uT.ADJUST,projectID:projectID,columnIndex:columnIndex,value:1})},children:"+"})]})}Duration_Duration.defaultProps={hideInfo:!1,showEmpty:!1,adjustable:!1,adjusted:0,columnIndex:-1};try{Duration_Duration.displayName="Duration",Duration_Duration.__docgenInfo={description:"",displayName:"Duration",props:{num:{defaultValue:null,description:"",name:"num",required:!0,type:{name:"number"}},dispatch:{defaultValue:null,description:"",name:"dispatch",required:!0,type:{name:"Function"}},adjusted:{defaultValue:{value:"0"},description:"",name:"adjusted",required:!1,type:{name:"number"}},columnIndex:{defaultValue:{value:"-1"},description:"",name:"columnIndex",required:!1,type:{name:"number"}},projectID:{defaultValue:null,description:"",name:"projectID",required:!1,type:{name:"string"}},hideInfo:{defaultValue:{value:"false"},description:"",name:"hideInfo",required:!1,type:{name:"boolean"}},showEmpty:{defaultValue:{value:"false"},description:"",name:"showEmpty",required:!1,type:{name:"boolean"}},adjustable:{defaultValue:{value:"false"},description:"",name:"adjustable",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/project/Duration.tsx#Duration"]={docgenInfo:Duration_Duration.__docgenInfo,name:"Duration",path:"src/project/Duration.tsx#Duration"})}catch(__react_docgen_typescript_loader_error){}},"./src/util/const.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{pY:function(){return ROUNDED_ADJUSTMENTS},uT:function(){return DISPATCH_ACTION}});var ROUNDED_ADJUSTMENTS=!1,DISPATCH_ACTION={PROJECT_LOADED:"PROJECT_LOADED",WEEK_LENGTH_CHANGED:"WEEK_LENGTH_CHANGED",START_CHANGED:"START_CHANGED",ADJUST:"ADJUST",IGNORE_PROJECT_TOGGLE:"IGNORE_PROJECT_TOGGLE",ROUNDING_CHANGED:"ROUNDING_CHANGED",ORDER_CHANGED:"ORDER_CHANGED",HIDE_IGNORED_TOGGLE:"HIDE_IGNORED_TOGGLE",REPLACE_IGNORED:"REPLACE_IGNORED"}},"./src/util/format.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{E:function(){return formatAllDuration},L:function(){return formatDuration}});var moment__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/moment/moment.js"),moment_duration_format__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/moment-duration-format/lib/moment-duration-format.js");__webpack_require__.n(moment_duration_format__WEBPACK_IMPORTED_MODULE_1__)()(moment__WEBPACK_IMPORTED_MODULE_0__);var formatAllDuration=function formatAllDuration(msec){return moment__WEBPACK_IMPORTED_MODULE_0__.duration(msec,"milliseconds").format("hh:mm",{stopTrim:"h"})},formatDuration=function formatDuration(msec){return msec?formatAllDuration(msec):""}},"./src/util/projectData.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{U:function(){return manipulateData},a:function(){return processProjectData}});var toConsumableArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),objectSpread2=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),moment=__webpack_require__("./node_modules/moment/moment.js"),moment_default=__webpack_require__.n(moment),roundToNearestNMinutes=function roundToNearestNMinutes(roundTo){return function(startMS){if(!startMS)return 0;if(!roundTo)return startMS;var start=moment_default()(startMS),remainder=roundTo-(start.minute()+start.second()/60)%roundTo;remainder=remainder>roundTo/2?-roundTo+remainder:remainder;var rounded=+start.add(remainder,"minutes").seconds(0);return rounded||1}},v4=__webpack_require__("./node_modules/uuid/dist/esm-browser/v4.js"),util_const=__webpack_require__("./src/util/const.ts");function processProjectData(response,dateFrom,dateTo){var projects=response.data.map((function(project){return{uuid:(0,v4.Z)(),client:project.title.client||"-",project:project.title.project||"-",hexColor:project.title.hex_color||"#000000",totals:project.totals,adjustments:Array(7).fill(0),ignore:!1}})).sort((function(a,b){return a.client.localeCompare(b.client)})),totals=response.week_totals||[];return{projects:projects,headers:function enumerateDaysBetweenDates(startDate,endDate){for(var now=startDate.clone(),dates=[],i=0;i<7&&now.isSameOrBefore(endDate);)dates.push(now.format("YYYY-MM-DD")),now.add(1,"days"),i++;return dates.push("Totals"),dates}(moment_default()(dateFrom),moment_default()(dateTo)),totals:totals,totalAdjustments:[]}}var filterByWeekLength=function filterByWeekLength(weekLength){return function(_e,i){return!(5===weekLength&&(5===i||6===i))}};function manipulateData(project,weekLength,rounding,adjustments,ignoreProjects,autoIgnore){var projectOrder=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],filterFn=filterByWeekLength(weekLength),roundFn=roundToNearestNMinutes(rounding),sortFn=projectOrder.length?function(list){return list.sort((function(a,b){return projectOrder.indexOf(a.uuid)-projectOrder.indexOf(b.uuid)}))}:function(list){return list},newProjects=[],dailyTotals=Array(7).fill(0),dailyTotalAdjustments=Array(7).fill(0);return project.projects.forEach((function(project){var shouldIgnore=ignoreProjects.has(project.uuid)||autoIgnore.has(project.client),proj=(0,objectSpread2.Z)((0,objectSpread2.Z)({},project),{},{ignore:shouldIgnore,totals:(0,toConsumableArray.Z)(project.totals).filter(filterFn)}),lineValues=Array(weekLength).fill(0),adjustmentValues=Array(weekLength).fill(0);proj.totals.slice(0,-1).forEach((function(value,i){var item=value,adjustmentKey="".concat(proj.uuid,"-").concat(i);if(adjustments.has(adjustmentKey)){var adj=adjustments.get(adjustmentKey)||0;adjustmentValues[i]=adj,item+=adj,shouldIgnore||(dailyTotalAdjustments[i]+=util_const.pY?roundFn(adj):adj)}item<0&&(item=0),lineValues[i]=roundFn(item),shouldIgnore||(dailyTotals[i]+=roundFn(item))})),lineValues.push(lineValues.reduce((function(acc,curr){return acc+curr}),0)),adjustmentValues.push(adjustmentValues.reduce((function(acc,curr){return acc+curr}),0)),proj.totals=lineValues,proj.adjustments=adjustmentValues,newProjects.push(proj)})),dailyTotals.push(dailyTotals.reduce((function(acc,curr){return acc+curr}),0)),dailyTotalAdjustments.push(dailyTotalAdjustments.reduce((function(acc,curr){return acc+curr}),0)),{projects:sortFn(newProjects),headers:project.headers.filter(filterFn),totals:dailyTotals.filter(filterFn),totalAdjustments:dailyTotalAdjustments.filter(filterFn)}}},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$":function(module,__unused_webpack_exports,__webpack_require__){var map={"./project/CopyToClipboard.stories.tsx":"./src/project/CopyToClipboard.stories.tsx","./project/Duration.stories.tsx":"./src/project/Duration.stories.tsx","./project/PlainTextData.stories.tsx":"./src/project/PlainTextData.stories.tsx","./project/ProjectGrid.stories.tsx":"./src/project/ProjectGrid.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$"},"./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$",module.exports=webpackEmptyContext},"./storybook-init-framework-entry.js":function(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__){"use strict";__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},"?4f7e":function(){},"./generated-stories-entry.cjs":function(module,__unused_webpack_exports,__webpack_require__){"use strict";module=__webpack_require__.nmd(module),(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./src sync recursive ^\\.(?:(?:^%7C\\/%7C(?:(?:(?%21(?:^%7C\\/)\\.).)*?)\\/)(?%21\\.)(?=.)[^/]*?\\.stories\\.(js%7Cjsx%7Cts%7Ctsx))$")],module,!1)},"./src/api/data.json":function(module){"use strict";module.exports=JSON.parse('{"total_grand":142107000,"total_billable":null,"total_currencies":[{"currency":null,"amount":null}],"data":[{"title":{"client":"Client1","project":"Project1","color":"0","hex_color":"#525266"},"pid":170272329,"totals":[null,null,null,null,1800000,null,null,1800000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[null,null,null,null,1800000,null,null,1800000]}]},{"title":{"client":"Client2","project":"Project2","color":"0","hex_color":"#06a893"},"pid":170163984,"totals":[null,null,1800000,null,null,null,null,1800000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[null,null,1800000,null,null,null,null,1800000]}]},{"title":{"client":"Client3","project":"Project3","color":"0","hex_color":"#9e5bd9"},"pid":169998126,"totals":[4500000,null,900000,9236000,null,null,null,14636000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[4500000,null,900000,9236000,null,null,null,14636000]}]},{"title":{"client":"Client4","project":"Project4","color":"0","hex_color":"#e36a00"},"pid":175885858,"totals":[12103000,27767000,20393000,null,12600000,null,null,72863000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[12103000,27767000,20393000,null,12600000,null,null,72863000]}]},{"title":{"client":"Client5","project":"Project5","color":"0","hex_color":"#0b83d9"},"pid":177761780,"totals":[1800000,null,null,5400000,null,null,null,7200000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[1800000,null,null,5400000,null,null,null,7200000]}]},{"title":{"client":"Client5","project":"Project6","color":"0","hex_color":"#0b83d9"},"pid":179408345,"totals":[null,null,null,27121000,2700000,null,null,29821000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[null,null,null,27121000,2700000,null,null,29821000]}]},{"title":{"client":"Client5","project":"Project7","color":"0","hex_color":"#0b83d9"},"pid":178225433,"totals":[null,null,null,null,3600000,null,null,3600000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[null,null,null,null,3600000,null,null,3600000]}]},{"title":{"client":"Client5","project":"Project8","color":"0","hex_color":"#0b83d9"},"pid":170037482,"totals":[613000,null,1674000,null,null,null,null,2287000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[613000,null,1674000,null,null,null,null,2287000]}]},{"title":{"client":"Client5","project":"Project9","color":"0","hex_color":"#0b83d9"},"pid":177761848,"totals":[2700000,null,null,null,null,null,null,2700000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[2700000,null,null,null,null,null,null,2700000]}]},{"title":{"client":"Client5","project":"Project10","color":"0","hex_color":"#0b83d9"},"pid":178698402,"totals":[null,null,5400000,null,null,null,null,5400000],"details":[{"uid":6899064,"title":{"user":"me"},"totals":[null,null,5400000,null,null,null,null,5400000]}]}],"week_totals":[21716000,27767000,30167000,41757000,20700000,null,null,142107000]}')}},function(__webpack_require__){var __webpack_exec__=function(moduleId){return __webpack_require__(__webpack_require__.s=moduleId)};__webpack_require__.O(0,[896],(function(){return __webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_exec__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_exec__("./storybook-init-framework-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_exec__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_exec__("./.storybook/preview.js-generated-config-entry.js"),__webpack_exec__("./generated-stories-entry.cjs")}));__webpack_require__.O()}]);